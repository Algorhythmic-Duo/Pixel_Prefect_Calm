"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7585],{17585:function(e,n,t){t.d(n,{ZP:function(){return cards_ContentCard},SH:function(){return getCardSize},o5:function(){return isSupportedPackItem}});var i=t(29541),l=t(93981),o=t(89898),r=t(46610),a=t(14428),c=t(69843),u=t(22237),d=t(19707),p=t(77059),s=(0,t(38742).vU)({newTag:{id:"app.contentCard.newTag",defaultMessage:"New",description:"Decorator for new content"},label:{id:"app.contentCard.label",defaultMessage:"Content tile for {title}",description:"Screen reader label for content tile"}}),m=t(87334);let getCardSize=e=>["banner-carousel","banner"].includes(e)?"banner":"default",createSubtitle=(e,n)=>e&&n?"".concat(e," â€¢ ").concat(n):null!=e?e:n;function isSupportedPackItem(e,n){return n&&"pack"===e.type||"program"===e.type||"guide"===e.type||"url"===e.type}var cards_ContentCard=e=>{var n,t;let{packFeedName:f,card:h,isHidden:_=!1,onClick:v,displayType:g="default",pack:b,className:w,searchQuery:k}=e,{formatMessage:x}=(0,o.Z)(),{logEvent:y}=(0,a.z)(),{flagValues:C,flagLoading:j}=(0,d.g)("support-pack-of-packs-on-web"),P=!j&&C["support-pack-of-packs-on-web"],{title:O,subtitle:I,handlePackItemClick:S,key:Z,duration:z,is_new:E,is_unlocked:G,image:L,promotional_text:D,content_type:M,description:T,narrator_name:q,program_id:Q,guide_id:N}=(0,c.e)({packFeedName:f,pack:b,packItem:h,searchQuery:k,onClickOverride:v}),B=createSubtitle(M,q),A=createSubtitle(T,D),U=(0,u.ec)(),H=null==U?void 0:null===(t=U.subscription)||void 0===t?void 0:null===(n=t.b2b_details)||void 0===n?void 0:n.partner_id,logWorkLifeBalanceEvent=()=>{(null==b?void 0:b.pack_class.includes("wlb"))&&y({eventName:"Work Life Balance : Pack Item : Clicked",eventProps:{pack_class:null==b?void 0:b.pack_class,partner_id:H,...O?{title:O}:{},...Q||N?{id:Q||N}:{},guide_id:null!=N?N:null}})},K=(0,l.useMemo)(()=>{if(!L.width)return{width:1e3};if(!L.height)return{width:Math.min(1e3,L.width)};let e=1e3*Math.sqrt(L.height*L.width),n=e/L.height,t=e/L.width;return{width:Math.round(n),height:Math.round(t)}},[L.width,L.height]),X=(0,l.useMemo)(()=>getCardSize(g),[g]),R=(0,l.useMemo)(()=>"banner"===X?"(min-width: 320px) 288px, (min-width: 480px) 320px, (min-width: 768px) 320px, (min-width: 1024px) 352px, (min-width: 1440px) 25vw, 100vw":"(min-width: 320px) 176px, (min-width: 480px) 208px, (min-width: 768px) 208px, (min-width: 1024px) 272px, (min-width: 1440px) 17vw, 100vw",[X]);return(0,i.jsxs)(m._L,{onClick:()=>{S().catch(()=>{}),logWorkLifeBalanceEvent()},onKeyDown:e=>{e.nativeEvent instanceof KeyboardEvent&&"Enter"!==e.key&&" "!==e.key||S().catch(()=>{})},isHidden:_,className:w,tabIndex:0,role:"button","aria-label":x(s.label,{title:O}),children:[(0,i.jsxs)(m.fb,{$cardSize:X,children:[(0,i.jsx)(m.Xd,{children:(0,i.jsx)(r.Z,{layout:"fill",objectFit:"cover",src:(0,p.S)(L.url,K.width,K.height),alt:"",sizes:R})}),!G&&(0,i.jsx)(m.mB,{"data-testid":"lock-icon"}),z&&(0,i.jsx)(m.nL,{children:z}),E&&(0,i.jsx)(m.PS,{"data-testid":"new-icon",children:x(s.newTag)})]}),(0,i.jsxs)(m.LZ,{children:[O&&(0,i.jsx)(m.Dx,{el:(null==b?void 0:b.title)?"h3":"h2",children:O}),P&&"pack"===h.type&&I?(0,i.jsx)(m.QE,{isDescription:!0,children:I||D}):(0,i.jsxs)(i.Fragment,{children:[B&&(0,i.jsx)(m.QE,{children:B}),A&&(0,i.jsx)(m.QE,{children:A})]})]})]},Z)}},87334:function(e,n,t){t.d(n,{Dx:function(){return p},LZ:function(){return v},PS:function(){return h},QE:function(){return s},Xd:function(){return d},_L:function(){return g},fb:function(){return _},mB:function(){return f},nL:function(){return m},oG:function(){return c}});var i=t(17905),l=t(57396),o=t(38039),r=t(57982),a=t(47480);function _templateObject(){let e=(0,i._)(["\n	aspect-ratio: 0.926 / 1;\n\n	@supports not (aspect-ratio: auto) {\n		&:before {\n			float: left;\n			padding-top: 100%;\n			content: '';\n		}\n\n		&:after {\n			display: block;\n			content: '';\n			clear: both;\n		}\n	}\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,i._)(["\n	aspect-ratio: 1.34 / 1;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,i._)(["\n	height: 100%;\n	transition: transform ",";\n\n	> div {\n		height: 100%;\n	}\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,i._)(["\n	font-size: 14px;\n	line-height: 20px;\n	font-weight: 500;\n	margin-top: 0;\n	margin-bottom: 2px;\n	color: ",";\n\n	"," {\n		font-size: 16px;\n		line-height: 24px;\n	}\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,i._)(["\n			height: 4rem;\n			overflow-x: hidden;\n		"]);return _templateObject4=function(){return e},e}function _templateObject5(){let e=(0,i._)(["\n	font-size: 12px;\n	font-weight: 500;\n	color: ",";\n\n	","\n\n	"," {\n		font-size: 13px;\n	}\n"]);return _templateObject5=function(){return e},e}function _templateObject6(){let e=(0,i._)(["\n	background: rgba(0, 0, 0, 0.6);\n	border-radius: 12px;\n	color: ",";\n	font-size: 11px;\n	font-weight: 600;\n	left: 8px;\n	padding: 4px 6px;\n	position: absolute;\n	top: 8px;\n"]);return _templateObject6=function(){return e},e}function _templateObject7(){let e=(0,i._)(["\n	background: rgba(0, 0, 0, 0.6);\n	border-radius: 50%;\n	height: 32px;\n	width: 32px;\n	left: 8px;\n	padding: 4px 6px;\n	position: absolute;\n	top: 8px;\n\n	& path {\n		fill: ",";\n	}\n"]);return _templateObject7=function(){return e},e}function _templateObject8(){let e=(0,i._)(["\n	background: ",";\n	border-radius: 12px;\n	color: rgba(0, 0, 0, 0.8);\n	font-size: 11px;\n	font-weight: 600;\n	right: 8px;\n	padding: 4px 6px;\n	position: absolute;\n	top: 8px;\n"]);return _templateObject8=function(){return e},e}function _templateObject9(){let e=(0,i._)(["\n	border-radius: 16px;\n	box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);\n	display: flex;\n	flex-direction: column;\n	overflow: hidden;\n	position: relative;\n	z-index: 0;\n	","\n	",";\n"]);return _templateObject9=function(){return e},e}function _templateObject10(){let e=(0,i._)(["\n	position: relative;\n	margin-top: 12px;\n	margin-bottom: 16px;\n\n	"," {\n		margin-bottom: 24px;\n	}\n"]);return _templateObject10=function(){return e},e}function _templateObject11(){let e=(0,i._)(["\n	display: block;\n	opacity: ",";\n	pointer-events: ",";\n	margin-bottom: 1rem;\n	transition: opacity 0.3s ease;\n\n	&:hover {\n		"," {\n			transform: scale(1.05);\n		}\n	}\n"]);return _templateObject11=function(){return e},e}let c=(0,l.iv)(_templateObject()),u=(0,l.iv)(_templateObject1()),d=l.ZP.div.withConfig({componentId:"sc-9a68add5-0"})(_templateObject2(),(0,o.rS)("animation.transition")),p=(0,l.ZP)(r.xv).attrs({styleAs:"h5"}).withConfig({componentId:"sc-9a68add5-1"})(_templateObject3(),(0,o.DG)("white"),(0,r.QR)("mobileLarge")),s=(0,l.ZP)(r.xv).attrs({el:"p",styleAs:"h6"}).withConfig({componentId:"sc-9a68add5-2"})(_templateObject5(),(0,o.DG)("white"),(0,o.fq)("isDescription",(0,l.iv)(_templateObject4())),(0,r.QR)("mobileLarge")),m=l.ZP.div.withConfig({componentId:"sc-9a68add5-3"})(_templateObject6(),(0,o.DG)("white")),f=(0,l.ZP)(a.Z).withConfig({componentId:"sc-9a68add5-4"})(_templateObject7(),(0,o.DG)("white")),h=l.ZP.div.withConfig({componentId:"sc-9a68add5-5"})(_templateObject8(),(0,o.DG)("white")),_=l.ZP.div.withConfig({componentId:"sc-9a68add5-6"})(_templateObject9(),c,e=>"banner"===e.$cardSize&&u),v=l.ZP.div.withConfig({componentId:"sc-9a68add5-7"})(_templateObject10(),(0,r.QR)("tablet")),g=l.ZP.a.withConfig({componentId:"sc-9a68add5-8"})(_templateObject11(),e=>e.isHidden?.2:1,e=>e.isHidden?"none":"auto",d)},63825:function(e,n,t){function isProgramOrGuide(e){return void 0!==e.program_id}function isCollection(e){return void 0!==e.feed_id}function isUrl(e){return(null==e?void 0:e.url)!==void 0}t.d(n,{CB:function(){return isUrl},QX:function(){return isProgramOrGuide},uZ:function(){return isCollection}})},97070:function(e,n,t){t.d(n,{i:function(){return useGuidePlay}});var i=t(22964),l=t(33540),o=t(45098),r=t(48339),a=t(31504),c=t(96829),u=t(62501),d=t(39270),p=t(35400);let useGuidePlay=()=>{let e=(0,o.h)(),n=(0,i.I0)(),t=(0,r.E)(),{onAudioStart:s,onVideoStart:m,onStop:f,shouldPreventAppNav:h}=(0,l.u)(),{checkIfInMeeting:_}=(0,u.ZP)(),v=(0,d.Z)(),onGuidePlay=async(l,o)=>{try{var r,u,d,g,b;if(h){let e=await _(),n="".concat((0,p.Z)("www"),"/teams-calm/").concat(e?"meeting-player":"player","/").concat(l);if(e){await v.trigger(n);return}await t(n);return}let{data:f}=await e({endpoint:"content/programs/guides/".concat(l),method:"GET",customHeaders:{"x-device-capabilities":"v1;signedCookie;streamOnly"}}),w=(null==f?void 0:null===(d=f.program)||void 0===d?void 0:null===(u=d.guides[0])||void 0===u?void 0:null===(r=u.asset)||void 0===r?void 0:r.type)==="video",k=(null==o?void 0:o.id)!==(null==f?void 0:null===(g=f.program)||void 0===g?void 0:g.id),x=null==f?void 0:null===(b=f.program)||void 0===b?void 0:b.guides[0],y=null==f?void 0:f.program;"timer"===y.meditation_type&&await t("/app/player/".concat(x.id)),(0,i.dC)(()=>{n((0,a.y)(x)),k&&n((0,c.h)(y))}),w?m(x,y,"playing",!1):s(null,x,y)}catch(e){await f()}};return onGuidePlay}},69843:function(e,n,t){t.d(n,{S:function(){return determineKey},e:function(){return usePackItemAttributes}});var i=t(94724),l=t(54477),o=t(63825),r=t(59314),a=t(10908),c=t(65770),u=t(14428),d=t(97070),p=t(90759),s=t(39184),m=t(19707),f=t(13495),h=t(35400),_=t(43456);function determineKey(e,n){if((0,o.uZ)(e)&&e.onclick_override)return e.feed_id;if((0,o.CB)(e)||n&&"pack"===e.type)return e.title;if((0,o.QX)(e)){let{program_id:n,guide_id:t}=e;return null!=t?t:n}return"invalid-pack-item"}function usePackItemAttributes(e){let{pack:n,packItem:t,searchQuery:v,onClickOverride:g,packFeedName:b}=e,w=(0,l.useRouter)(),{logEvent:k}=(0,u.z)(),x=(0,d.i)(),{setCurrentPack:y,setCurrentPackItem:C}=(0,a.Ei)(),{flagValues:j,flagLoading:P}=(0,m.g)("support-pack-of-packs-on-web"),O=!P&&j["support-pack-of-packs-on-web"],I=determineKey(t,O),{isTeamsApp:S}=(0,f.oC)(),[Z]=(0,p.d)(),z=(0,_.Z)(),{setIsModalOpen:E}=(0,c.sg)(),{isEnrolled:G}=(0,s.T)("www-locked-content-upsell",(null==z?void 0:z.utm_medium)==="paid");if(O&&"pack"===t.type){let{pack_class:e,title:i,subtitle:l,promotional_text:o,image:r,is_unlocked:a,is_new:c}=t;return{key:I,image:r,handlePackItemClick:async()=>{k({eventName:"Pack : Item : Clicked",eventProps:{title:i,id:t.title,pack_class:e,source:n?n.pack_class:""}}),await w.push("/app/class/".concat(e))},title:i,subtitle:l,promotional_text:o,is_unlocked:a,is_new:c}}if((0,o.uZ)(t)&&t.onclick_override)return{...t,title:t.title,subtitle:t.promotional_text,handlePackItemClick:t.onclick_override,key:I,is_new:t.is_new,is_unlocked:t.is_unlocked,image:t.image};if((0,o.CB)(t))return{...t,title:t.title,subtitle:t.narrator_name,handlePackItemClick:async()=>{k({eventName:"Pack : Item : Clicked",eventProps:{title:t.title,id:t.title}}),await w.push(t.url)},key:I,is_new:t.is_new,is_unlocked:t.is_unlocked,image:t.image};if((0,o.QX)(t)){let{duration:e,is_unlocked:l,program_id:o,guide_id:a}=t,handleUnlockedPackItemClick=async()=>{if("programString"===o){await w.push("/app");return}y(null!=n?n:null),E(!1),a?await x(a):await w.push("/app/program/".concat(o))},onClick=async()=>{var e,n,c,u,d,p,s,m,f,_,x,y,j,P;if(g){g(null!=o?o:a);return}let O=a||o||null,I=a?"guide":o?"program":null;if(!l){k({eventName:"Web : Locked Content : Clicked",eventProps:{title:t.title,id:o||a||null,guide_id:null!=a?a:null,query:null!==(e=null==v?void 0:v.query)&&void 0!==e?e:null,filter_category:null!==(n=null==v?void 0:v.filter_category)&&void 0!==n?n:null,filter_duration:null!==(c=null==v?void 0:v.filter_duration)&&void 0!==c?c:null,location:null!==(u=null==v?void 0:v.location)&&void 0!==u?u:null,pack_item_index:null!==(d=null==v?void 0:v.pack_item_index)&&void 0!==d?d:null,query_id:null!==(p=null==v?void 0:v.query_id)&&void 0!==p?p:null,search_index:null!==(s=null==v?void 0:v.search_index)&&void 0!==s?s:null,search_object_id:I?"".concat(I,"_").concat(O):null}}),S&&!Z?i.dialog.url.open({url:"".concat((0,h.Z)("www"),"/teams-calm/not-subscribed"),size:{height:250,width:600}}):S?window.open("/new-member-offer?coupon=".concat(r.z)):G?C(t):await w.push("/new-member-offer?coupon=".concat(r.z));return}k({eventName:"Pack : Item : Clicked",eventProps:{source:b||null,title:t.title,id:o||a||null,guide_id:null!=a?a:null,query:null!==(m=null==v?void 0:v.query)&&void 0!==m?m:null,filter_category:null!==(f=null==v?void 0:v.filter_category)&&void 0!==f?f:null,filter_duration:null!==(_=null==v?void 0:v.filter_duration)&&void 0!==_?_:null,location:null!==(x=null==v?void 0:v.location)&&void 0!==x?x:null,pack_item_index:null!==(y=null==v?void 0:v.pack_item_index)&&void 0!==y?y:null,query_id:null!==(j=null==v?void 0:v.query_id)&&void 0!==j?j:null,search_index:null!==(P=null==v?void 0:v.search_index)&&void 0!==P?P:null,search_object_id:I?"".concat(I,"_").concat(O):null}}),await handleUnlockedPackItemClick()};return{...t,title:t.title,subtitle:t.subtitle,handlePackItemClick:onClick,handleUnlockedPackItemClick,key:I,duration:e&&-1!==e&&l?"".concat(Math.floor((null!=e?e:0)/60)," min"):void 0,is_new:t.is_new,is_unlocked:t.is_unlocked,image:t.image,program_id:o,guide_id:a}}let onClick=async()=>{};return{title:null==t?void 0:t.title,subtitle:"",handlePackItemClick:onClick,key:"invalid-pack-item",duration:"",is_new:null==t?void 0:t.is_new,is_unlocked:null==t?void 0:t.is_unlocked,image:t.image}}},96829:function(e,n,t){t.d(n,{h:function(){return setProgram}});var i=t(92488);let setProgram=e=>({type:i.l,payload:e})},39270:function(e,n,t){t.d(n,{Z:function(){return useShareToStage}});var i=t(94724),l=t(93981),o=t(35010),r=t(62501);function useShareToStage(){let{checkIfInMeeting:e}=(0,r.ZP)(),n=(0,l.useCallback)(async n=>{try{let t=await e();if(!t)return Promise.resolve(!1);return new Promise((e,t)=>{i.meeting.shareAppContentToStage((n,t)=>{if(t)return e(t);if(n){var i;o.Y.warn("Error in teams-calm useShareToStage shareAppContentToStage",{errorCode:n.errorCode,msg:null!==(i=n.message)&&void 0!==i?i:""})}return e(!1)},n)})}catch(e){return o.Y.error("Error in teams-calm useShareToStage",{},e),Promise.resolve(!1)}},[e]);return(0,l.useMemo)(()=>({trigger:n}),[n])}}}]);
//# sourceMappingURL=7585-1e43397297e00e94.js.map